////////////////////////////////////////////////////////////////////////////////
//
//  System Name : ACR Configuration File
//     Filename : acf_area_onexit.nss
//      Version : 0.1
//         Date : 7/25/06
//       Author : Ronan
//
//  Local Variable Prefix =
//
//
//  Dependencies external of nwscript:
//
//  Description
//  This script calls the ACR's OnAreaExit code, and any custom code a server
//  may need. It is not updated in ACR updates.
//
//  Revision History
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Includes ////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

#include "acr_area_i"

////////////////////////////////////////////////////////////////////////////////
// Constants ///////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Structures //////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Global Variables ////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Function Prototypes /////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

// The main event handler.
void main();

////////////////////////////////////////////////////////////////////////////////
// Function Definitions ////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void main()
{
	ACR_AreaOnExit();
	object oPC=GetExitingObject(),o,s;
	int iCheck=GetLocalInt(oCount,"REMOVE_ON_AREA_EXIT"); 

	for (ObjectToInt(o = GetFirstItemInInventory(oPC)); o != OBJECT_INVAID; ObjectToInt(o = GetNextItemInInventory(oPC))) {
 		if (GetLocalInt(o,"REMOVE_ON_AREA_EXIT")) {
			//if ((s=GetNearestObject(OBJECT_TYPE_STORE,oPC)) != OBJECT_INVALID)
			//	CopyItem(o, s, TRUE);
 			DestroyObject(o); 
		}
 	} 
}
